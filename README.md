# XAINES Project

This repository contains a script which allows you to read subtitles from *vtt* files and store them in an organized dictionary the hierarchy of which is based on the directory hierarchy in which the subtitle files are stored.

## Data Manipulation

The class which allows you to parse subtitles is `SubtitleReader`. Essentially, it is a list of `Caption` objects, which are in turn lists of `Word` objects.

### Instantiation

There are two main ways to interact with this object. The first way of instantiating an object is to call the constructor of the class, in which case the subtitle files in the provided path will be parsed. This takes quite some time (around 10 minutes):
    
    videos = SubtitleReader(vtt_folder, save_path)

The other way is to load a pickle object generated by the latter:

    videos = SubtitleReader.load(save_path)

where:
- `vtt_folder` is the folder which contains all video category subfolders
- `save_path` is the path of the pickle file which will be created for the parsed videos

### Accessing by ID

You can access videos using their IDs:

    video = videos['3miio1kz3gc']

You can loop through the videos in the following way:

    for video_id, video in iter(videos):
        pass

or

    for video_id, video in videos.id_to_vid.items():
        pass

### Accessing by Category

Finally, one can access the videos by their categories:

    video = videos.videos['fights']['capoeira_beginners']['3miio1kz3gc']

You can also loop through the videos with their associated categories:

    for cat_name, category in videos.videos.items():
        for subcat_name, subcategory in category.items():
            for video_id, video in subcategory.items():
                pass
